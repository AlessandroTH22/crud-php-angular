{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/service/crud.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"@angular/router\";\nfunction ListarLibroComponent_tr_21_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 7);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(11, \"td\")(12, \"a\", 8);\n    i0.ɵɵtext(13, \"Editar \");\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(14, \" | \");\n    i0.ɵɵelementStart(15, \"a\", 9);\n    i0.ɵɵlistener(\"click\", function ListarLibroComponent_tr_21_Template_a_click_15_listener() {\n      const restoredCtx = i0.ɵɵrestoreView(_r4);\n      const iControl_r2 = restoredCtx.index;\n      const li_r1 = restoredCtx.$implicit;\n      const ctx_r3 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r3.borrarRegistro(iControl_r2, li_r1.isbn, li_r1.titulo));\n    });\n    i0.ɵɵtext(16, \"Borrar \");\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const li_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(li_r1.isbn);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(li_r1.titulo);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(li_r1.autor);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(li_r1.anio);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(li_r1.editorial);\n    i0.ɵɵadvance(2);\n    i0.ɵɵpropertyInterpolate1(\"routerLink\", \"/editar-libro/\", li_r1.isbn, \"\");\n  }\n}\nexport class ListarLibroComponent {\n  constructor(crudService) {\n    this.crudService = crudService;\n  }\n  ngOnInit() {\n    this.crudService.ObtenerLibros().subscribe(respuesta => {\n      console.log(respuesta);\n      this.Libros = respuesta;\n    });\n  }\n  borrarRegistro(iControl, isbn, titulo) {\n    console.log(iControl);\n    console.log(isbn);\n    if (window.confirm(\"Realmente deseas eliminar el resgistro isbn = \" + titulo)) {\n      this.crudService.BorrarLibro(isbn).subscribe(respuesta => {\n        /* Para actualizar la lista de libros en el template*/\n        this.Libros.splice(iControl, 1);\n      });\n    }\n  }\n}\nListarLibroComponent.ɵfac = function ListarLibroComponent_Factory(t) {\n  return new (t || ListarLibroComponent)(i0.ɵɵdirectiveInject(i1.CrudService));\n};\nListarLibroComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: ListarLibroComponent,\n  selectors: [[\"app-listar-libro\"]],\n  decls: 22,\n  vars: 1,\n  consts: [[1, \"card\"], [1, \"card-header\"], [1, \"card-body\"], [1, \"table-responsive\"], [1, \"table\", \"table-primary\"], [\"scope\", \"col\"], [4, \"ngFor\", \"ngForOf\"], [\"scope\", \"row\"], [1, \"btn\", \"btn-success\", 3, \"routerLink\"], [1, \"btn\", \"btn-danger\", 3, \"click\"]],\n  template: function ListarLibroComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1);\n      i0.ɵɵtext(2, \" Lista de libros en existencia \");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"div\", 2)(4, \"div\", 3)(5, \"table\", 4)(6, \"thead\")(7, \"tr\")(8, \"th\", 5);\n      i0.ɵɵtext(9, \"ISBN\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"th\", 5);\n      i0.ɵɵtext(11, \"T\\u00EDtulo\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"th\", 5);\n      i0.ɵɵtext(13, \"Autor\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"th\", 5);\n      i0.ɵɵtext(15, \"A\\u00F1o\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"th\", 5);\n      i0.ɵɵtext(17, \"Editorial\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(18, \"th\", 5);\n      i0.ɵɵtext(19, \"Acciones\");\n      i0.ɵɵelementEnd()()();\n      i0.ɵɵelementStart(20, \"tbody\");\n      i0.ɵɵtemplate(21, ListarLibroComponent_tr_21_Template, 17, 6, \"tr\", 6);\n      i0.ɵɵelementEnd()()()()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(21);\n      i0.ɵɵproperty(\"ngForOf\", ctx.Libros);\n    }\n  },\n  dependencies: [i2.NgForOf, i3.RouterLink],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"mappings":";;;;;;;IAkBoBA,0BAAoD;IAChCA,YAAW;IAAAA,iBAAK;IAChCA,0BAAI;IAAAA,YAAa;IAAAA,iBAAK;IACtBA,0BAAI;IAAAA,YAAY;IAAAA,iBAAK;IACrBA,0BAAI;IAAAA,YAAW;IAAAA,iBAAK;IACpBA,0BAAI;IAAAA,aAAgB;IAAAA,iBAAK;IACzBA,2BAAI;IAAkEA,wBAAO;IAAAA,iBAAI;IAACA,oBAC9E;IAAAA,6BAAiF;IAA9EA;MAAA;MAAA;MAAA;MAAA;MAAA,OAASA,2EAA4C;IAAA,EAAC;IAAwBA,wBAAO;IAAAA,iBAAI;;;;IANhFA,eAAW;IAAXA,gCAAW;IACvBA,eAAa;IAAbA,kCAAa;IACbA,eAAY;IAAZA,iCAAY;IACZA,eAAW;IAAXA,gCAAW;IACXA,eAAgB;IAAhBA,qCAAgB;IACbA,eAAsC;IAAtCA,yEAAsC;;;ACjBrE,OAAM,MAAOC,oBAAoB;EAE/BC,YAAoBC,WAAyB;IAAzB,gBAAW,GAAXA,WAAW;EAE/B;EAKAC,QAAQ;IACN,IAAI,CAACD,WAAW,CAACE,aAAa,EAAE,CAACC,SAAS,CAACC,SAAS,IAAG;MACrDC,OAAO,CAACC,GAAG,CAACF,SAAS,CAAC;MACtB,IAAI,CAACG,MAAM,GAAGH,SAAS;IACzB,CAAC,CAAC;EACJ;EAEAI,cAAc,CAACC,QAAY,EAACC,IAAQ,EAAEC,MAAU;IAC9CN,OAAO,CAACC,GAAG,CAACG,QAAQ,CAAC;IACrBJ,OAAO,CAACC,GAAG,CAACI,IAAI,CAAC;IAEjB,IAAGE,MAAM,CAACC,OAAO,CAAC,gDAAgD,GAAGF,MAAM,CAAC,EAAC;MAC3E,IAAI,CAACX,WAAW,CAACc,WAAW,CAACJ,IAAI,CAAC,CAACP,SAAS,CAACC,SAAS,IAAE;QACtD;QAEA,IAAI,CAACG,MAAM,CAACQ,MAAM,CAACN,QAAQ,EAAC,CAAC,CAAC;MAEhC,CAAC,CAAC;;EAIN;;AA9BWX,oBAAoB;mBAApBA,oBAAoB;AAAA;AAApBA,oBAAoB;QAApBA,oBAAoB;EAAAkB;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDPjCvB,8BAAkB;MAEVA,+CACJ;MAAAA,iBAAM;MACNA,8BAAuB;MAKaA,oBAAI;MAAAA,iBAAK;MACzBA,8BAAgB;MAAAA,4BAAM;MAAAA,iBAAK;MAC3BA,8BAAgB;MAAAA,sBAAK;MAAAA,iBAAK;MAC1BA,8BAAgB;MAAAA,yBAAG;MAAAA,iBAAK;MACxBA,8BAAgB;MAAAA,0BAAS;MAAAA,iBAAK;MAC9BA,8BAAgB;MAAAA,yBAAQ;MAAAA,iBAAK;MAGrCA,8BAAO;MACHA,sEAQK;MAETA,iBAAQ;;;MAVeA,gBAAW;MAAXA,oCAAW","names":["i0","ListarLibroComponent","constructor","crudService","ngOnInit","ObtenerLibros","subscribe","respuesta","console","log","Libros","borrarRegistro","iControl","isbn","titulo","window","confirm","BorrarLibro","splice","selectors","decls","vars","consts","template"],"sourceRoot":"","sources":["/Users/alessandrotolentinohernandez/Documents/GitHub/crud-php-angular/src/app/componentes/listar-libro/listar-libro.component.html","/Users/alessandrotolentinohernandez/Documents/GitHub/crud-php-angular/src/app/componentes/listar-libro/listar-libro.component.ts"],"sourcesContent":["<div class=\"card\">\n    <div class=\"card-header\">\n        Lista de libros en existencia\n    </div>\n    <div class=\"card-body\">\n        <div class=\"table-responsive\">\n            <table class=\"table table-primary\">\n                <thead>\n                    <tr>\n                        <th scope=\"col\">ISBN</th>\n                        <th scope=\"col\">Título</th>\n                        <th scope=\"col\">Autor</th>\n                        <th scope=\"col\">Año</th>\n                        <th scope=\"col\">Editorial</th>\n                        <th scope=\"col\">Acciones</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    <tr *ngFor=\"let li of Libros; let iControl = index\">\n                        <td scope=\"row\">{{li.isbn}}</td>\n                        <td>{{li.titulo}}</td>\n                        <td>{{li.autor}}</td>\n                        <td>{{li.anio}}</td>\n                        <td>{{li.editorial}}</td>\n                        <td><a routerLink=\"/editar-libro/{{li.isbn}}\" class=\"btn btn-success\">Editar </a> | \n                            <a (click)=\"borrarRegistro(iControl, li.isbn, li.titulo)\" class=\"btn btn-danger\">Borrar </a></td>\n                    </tr>\n                  \n                </tbody>\n            </table>\n        </div>\n        \n       \n    </div>\n    \n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { CrudService } from 'src/app/service/crud.service';\n@Component({\n  selector: 'app-listar-libro',\n  templateUrl: './listar-libro.component.html',\n  styleUrls: ['./listar-libro.component.css']\n})\nexport class ListarLibroComponent implements OnInit{\n  Libros: any;\n  constructor(private crudService : CrudService){\n\n  }\n   \n\n  \n\n  ngOnInit(): void {\n    this.crudService.ObtenerLibros().subscribe(respuesta => {\n      console.log(respuesta)\n      this.Libros = respuesta;\n    });\n  }\n\n  borrarRegistro(iControl:any,isbn:any, titulo:any){\n    console.log(iControl);\n    console.log(isbn);\n\n    if(window.confirm(\"Realmente deseas eliminar el resgistro isbn = \" + titulo)){\n      this.crudService.BorrarLibro(isbn).subscribe(respuesta=> {\n        /* Para actualizar la lista de libros en el template*/ \n\n        this.Libros.splice(iControl,1);\n\n      });\n    }\n    \n\n  }\n\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}